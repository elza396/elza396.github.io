(this["webpackJsonplab-code"]=this["webpackJsonplab-code"]||[]).push([[0],{11:function(e,t,c){e.exports={name:"lecture_name__1qDKW",smileys:"lecture_smileys__2mmzT",disabled:"lecture_disabled__vyx3F",smiley:"lecture_smiley__307QD",text:"lecture_text__1wrlk",statistic:"lecture_statistic__3U0bX",table:"lecture_table__221Um",table__row:"lecture_table__row__3GBEV"}},18:function(e,t,c){e.exports={title:"lectures_title__3W3uY",lecture:"lectures_lecture__3qRmE",name:"lectures_name__3rRnn",author:"lectures_author__3lPyc",date:"lectures_date__12mAq"}},30:function(e,t,c){e.exports={app:"App_app__1kX79"}},33:function(e,t,c){e.exports={text:"main-page_text__8Wqoo"}},44:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(29),i=c.n(n),l=c(30),r=c.n(l),o=c(17),u=c(21),d=c(18),j=c.n(d),b=c(16),m=c(25);c(45);m.a.initializeApp({apiKey:"AIzaSyAypwNpKLdGThypEiYlCqWuxZ_EkzgEQ7w",authDomain:"lab-code-test.firebaseapp.com",projectId:"lab-code-test"});var _=m.a.firestore(),p=c(3);function x(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){_.collection("lectures").get().then((function(e){var t=[];e.forEach((function(e){var c=e.data();t.push(Object(o.a)(Object(o.a)({id:e.id},c),{},{date:new Date(1e3*c.date.seconds).toLocaleDateString()}))})),s(t)}))}),[]),Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{className:j.a.title,children:"\u041b\u0435\u043a\u0446\u0438\u0438"}),c.map((function(e){return Object(p.jsxs)(b.b,{to:"lectures/".concat(e.id),className:j.a.lecture,children:[Object(p.jsx)("p",{className:j.a.name,children:e.name}),Object(p.jsx)("p",{className:j.a.author,children:e.author}),Object(p.jsx)("p",{className:j.a.date,children:e.date})]},e.id)}))]})}var O=c(4),h=c(20),v=c(11),f=c.n(v),g=c.p+"static/media/positive.d058201d.svg",N=c.p+"static/media/neutral.aca110ec.svg",y=c.p+"static/media/negative.c0c62b68.svg";function w(){var e=Object(O.f)().lectureId,t=Object(a.useState)(null),c=Object(u.a)(t,2),s=c[0],n=c[1],i=document.cookie.includes(e),l=Object(a.useCallback)((function(e){_.collection("lectures").doc(e).get().then((function(e){if(e.exists){var t=e.data();n(Object(o.a)(Object(o.a)({id:e.id},t),{},{date:new Date(1e3*t.date.seconds).toLocaleDateString()}))}else console.log("\u041d\u0435\u0442 \u0442\u0430\u043a\u043e\u0439 \u043b\u0435\u043a\u0446\u0438\u0438!")})).catch((function(e){console.log("Error getting document:",e)}))}),[]);if(Object(a.useEffect)((function(){l(e)}),[e,l]),!s)return null;function r(t){i||_.collection("lectures").doc(e).update(Object(h.a)({},t,++s[t])).then((function(){l(e),document.cookie="".concat(e,"=1")})).catch((function(e){console.error("Error updating document: ",e)}))}return Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{className:f.a.name,children:s.name}),Object(p.jsxs)("div",{className:"".concat(f.a.smileys," ").concat(i&&f.a.disabled),children:[Object(p.jsx)("img",{onClick:function(){return r("positiveVotes")},className:f.a.smiley,src:g,alt:"positive"}),Object(p.jsx)("img",{onClick:function(){return r("neutralVotes")},className:f.a.smiley,src:N,alt:"neutral"}),Object(p.jsx)("img",{onClick:function(){return r("negativeVotes")},className:f.a.smiley,src:y,alt:"negative"})]}),Object(p.jsxs)("div",{className:f.a.statistic,children:[Object(p.jsx)("p",{className:f.a.text,children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"}),Object(p.jsxs)("div",{className:f.a.table,children:[Object(p.jsxs)("div",{className:f.a.table__row,children:[Object(p.jsx)("img",{src:g,alt:"positiveSmiley"}),Object(p.jsx)("p",{children:s.positiveVotes})]}),Object(p.jsxs)("div",{className:f.a.table__row,children:[Object(p.jsx)("img",{src:N,alt:"neutralSmiley"}),Object(p.jsx)("p",{children:s.neutralVotes})]}),Object(p.jsxs)("div",{className:f.a.table__row,children:[Object(p.jsx)("img",{src:y,alt:"negativeSmiley"}),Object(p.jsx)("p",{children:s.negativeVotes})]})]})]})]})}var k=c(33),E=c.n(k);function S(){return Object(p.jsx)("div",{children:Object(p.jsx)(b.b,{to:"lectures",children:Object(p.jsx)("a",{className:E.a.text,children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043b\u0435\u043a\u0446\u0438\u044f\u043c"})})})}var D=function(){return Object(p.jsx)("div",{className:r.a.app,children:Object(p.jsxs)(O.c,{children:[Object(p.jsx)(O.a,{exact:!0,path:"/",component:S}),Object(p.jsx)(O.a,{exact:!0,path:"/lectures",component:x}),Object(p.jsx)(O.a,{path:"/lectures/:lectureId",component:w})]})})};i.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(b.a,{children:Object(p.jsx)(D,{})})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.c69da74c.chunk.js.map